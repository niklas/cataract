<html>
  <head>
    <title><%= @page_title -%> (<%= @controller.controller_name %>)</title>
    <%= stylesheet_link_tag 'torrents' %>
    <%= javascript_include_tag :defaults %>
  </head>
  <body>

  <div id="header" onmouseover="MenuHovered()" onmouseout="MenuUnhovered()">
    <span class="logo" onclick="MenuReset()"><%= image_tag('cataract', :class => "test") %></span>
    <%= image_tag('layout/corner_left', :style => 'float:left') %>
    <%= image_tag('layout/corner_right', :style => 'float:right') %>
	 <div id="actions" style="display:none">
	   <ul>
        <li><%= link_to_remote 'Add single Torrent', :url => {:action => 'new', :controller => 'torrents'} %></li>
        <li><%= link_to 'Feeds', {:controller => 'feed'} %></li>
      </ul>
    </div>
  </div>

    <ul id="groups">
      <%= group_link('running') %>
      <%= group_link('paused') %>
      <li><%= link_to "my settings", :action => 'user_settings' , :controller => 'config'-%></li>

    <%= text_field_tag('search',params[:term], :id => 'search_field', :size => 8) %>
    <%= observe_field('search_field',
      :url => { :action => 'search', :controller => 'torrents'},
      :update => 'content',
      :frequency => 2.3,
      :with => 'term'
      ) %>
    </ul>


    <div id="john_cage">
    <div id="content">
      <%= yield  %>
    </div>
    </div>

    <div id="summary">
      <%= render '/torrents/summary' %>
        <div id="notice">
      <%= flash[:notice] %>
    </div>
    </div>
    <div id="watchlist">
      <%= render :partial => '/torrents/watchlist' %>
    </div>


  <%= periodically_call_remote :update => 'summary',
    :frequency => 42,
    :url => {:action => 'summary', :controller => 'torrents'} %>

  <%= periodically_call_remote :update => 'watchlist',
    :frequency => 42,
    :url => {:action => 'watchlist', :controller => 'torrents'} %>


  </body>
</html>
